<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Assistant | Jobpitality Employer Dashboard</title>
    <meta name="description" content="AI-powered chat assistant for hospitality recruitment. Get instant help with hiring, scheduling, candidate screening, and recruitment optimization.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="AI Chat Assistant | Jobpitality Employer Dashboard">
    <meta property="og:description" content="AI-powered chat assistant for hospitality recruitment. Get instant help with hiring and scheduling.">
    <meta property="og:image" content="https://jobpitality.com/img/chat-assistant-og.jpg">
    <meta property="og:url" content="https://jobpitality.com/employer-dashboard/chat-assistant/">
    <meta property="og:type" content="website">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://jobpitality.com/employer-dashboard/chat-assistant/">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* ===== JOBPITALITY CSS RESET & BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* Jobpitality Color Palette */
            --color-primary: #0d1b2a;
            --color-primary-dark: #070d13;
            --color-accent: #ff9e00;
            --color-accent-dark: #cc7e00;
            --color-emergency: #e63946;
            --color-emergency-dark: #c1121f;
            --color-success: #2a9d8f;
            --color-success-dark: #21867a;
            --color-warning: #f59e0b;
            --color-warning-dark: #d97706;
            --color-info: #3b82f6;
            --color-info-dark: #2563eb;
            --color-dark: #0d1b2a;
            --color-gray-900: #1b263b;
            --color-gray-800: #415a77;
            --color-gray-700: #778da9;
            --color-gray-600: #a0aec0;
            --color-gray-300: #e2e8f0;
            --color-gray-200: #edf2f7;
            --color-gray-100: #f7fafc;
            --color-white: #ffffff;
            
            /* Chat Specific Colors */
            --color-chat-ai-bg: linear-gradient(135deg, var(--color-accent) 0%, var(--color-emergency) 100%);
            --color-chat-user-bg: var(--color-primary);
            --color-chat-border: rgba(255, 255, 255, 0.1);
            
            /* Typography */
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            --font-mono: 'SF Mono', 'Roboto Mono', Monaco, Consolas, monospace;
            
            /* Spacing */
            --space-xs: 0.5rem;
            --space-sm: 1rem;
            --space-md: 1.5rem;
            --space-lg: 2rem;
            --space-xl: 3rem;
            --space-2xl: 4rem;
            
            /* Border Radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 20px;
            --radius-full: 9999px;
            
            /* Shadows */
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-glow: 0 0 20px rgba(255, 158, 0, 0.3);
            --shadow-chat: 0 8px 30px rgba(0, 0, 0, 0.12);
            
            /* Transitions */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Chat Dimensions */
            --chat-header-height: 70px;
            --chat-input-height: 80px;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--font-sans);
            font-weight: 400;
            line-height: 1.6;
            color: var(--color-dark);
            background: var(--color-gray-100);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-md);
        }

        /* Ensure scrollbar is always visible */
::-webkit-scrollbar {
    width: 10px !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Force scrollbar track to be visible */
::-webkit-scrollbar-track {
    background: var(--color-gray-200) !important;
    visibility: visible !important;
}
        
        /* ===== JOBPITALITY TYPOGRAPHY ===== */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.1;
            color: var(--color-gray-900);
            letter-spacing: -0.025em;
        }
        
        h1 { 
            font-size: 2.5rem; 
            font-weight: 900; 
            line-height: 1;
        }
        
        h2 { 
            font-size: 2rem; 
            margin-bottom: var(--space-md);
        }
        
        h3 { 
            font-size: 1.5rem; 
            margin-bottom: var(--space-sm);
        }
        
        h4 { 
            font-size: 1.25rem; 
            margin-bottom: var(--space-xs);
        }
        
        .text-gradient {
            background: linear-gradient(90deg, var(--color-accent) 0%, var(--color-emergency) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        .text-accent {
            color: var(--color-accent);
        }
        
        .text-success {
            color: var(--color-success);
        }
        
        .text-warning {
            color: var(--color-warning);
        }
        
        .text-danger {
            color: var(--color-emergency);
        }
        
        .text-info {
            color: var(--color-info);
        }
        
        p {
            margin-bottom: var(--space-md);
            font-size: 1rem;
            line-height: 1.7;
            color: var(--color-gray-800);
        }
        
        .lead {
            font-size: 1.125rem;
            line-height: 1.6;
            color: var(--color-gray-700);
            font-weight: 400;
        }
        
        /* ===== JOBPITALITY BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.75rem 1.75rem;
            font-weight: 700;
            font-size: 0.95rem;
            text-align: center;
            text-decoration: none;
            border-radius: var(--radius-lg);
            transition: all var(--transition-normal);
            cursor: pointer;
            border: none;
            font-family: var(--font-sans);
            letter-spacing: 0.01em;
            min-height: 44px;
        }


                .modal-overlay {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            background: rgba(13, 27, 42, 0.95) !important;
            z-index: 99999 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            overflow-y: auto !important;
        }

        
        
        .btn-primary {
            background: var(--color-accent);
            color: var(--color-primary);
        }
        
        .btn-primary:hover {
            background: var(--color-accent-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary {
            background: var(--color-primary);
            color: var(--color-white);
        }
        
        .btn-secondary:hover {
            background: var(--color-primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--color-primary);
            border: 2px solid var(--color-primary);
        }
        
        .btn-outline:hover {
            background: var(--color-primary);
            color: var(--color-white);
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: var(--color-success);
            color: var(--color-white);
        }
        
        .btn-success:hover {
            background: var(--color-success-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-emergency {
            background: var(--color-emergency);
            color: var(--color-white);
        }
        
        .btn-emergency:hover {
            background: var(--color-emergency-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-chat {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-emergency) 100%);
            color: var(--color-white);
            position: relative;
            overflow: hidden;
        }
        
        .btn-chat:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-glow);
        }
        
        .btn-sm {
            padding: 0.5rem 1.25rem;
            font-size: 0.875rem;
        }
        
        .btn-lg {
            padding: 1rem 2.5rem;
            font-size: 1.125rem;
        }
        
        .btn-block {
            width: 100%;
        }
        
        /* ===== JOBPITALITY LAYOUT ===== */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--color-primary);
            color: var(--color-white);
            padding: var(--space-xl) 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
            transition: transform var(--transition-normal);
        }
        
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .sidebar.active {
                transform: translateX(0);
            }
            .main-content {
                margin-left: 0 !important;
            }
        }
        
        .sidebar-header {
            padding: 0 var(--space-lg);
            margin-bottom: var(--space-xl);
        }
        
        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            text-decoration: none;
            color: var(--color-white);
            margin-bottom: var(--space-xl);
        }
        
        .sidebar-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--color-accent), var(--color-emergency));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.5rem;
        }
        
        .sidebar-logo-text {
            font-size: 1.25rem;
            font-weight: 900;
            background: linear-gradient(90deg, var(--color-accent) 0%, var(--color-white) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .company-info {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            margin-bottom: var(--space-lg);
        }
        
        .company-name {
            font-weight: 700;
            margin-bottom: var(--space-xs);
        }
        
        .company-plan {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }
        
        .nav-menu {
            list-style: none;
            padding: 0 var(--space-lg);
        }
        
        .nav-item {
            margin-bottom: var(--space-xs);
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-md);
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            border-radius: var(--radius-lg);
            transition: all var(--transition-fast);
        }
        
        .nav-link:hover, .nav-link.active {
            background: rgba(255, 255, 255, 0.1);
            color: var(--color-white);
        }
        
        .nav-link i {
            width: 20px;
            text-align: center;
        }
        
        .nav-badge {
            margin-left: auto;
            background: var(--color-accent);
            color: var(--color-primary);
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
            font-weight: 700;
        }
        
        .sidebar-footer {
            padding: var(--space-lg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: var(--space-xl);
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            transition: margin-left var(--transition-normal);
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        /* Top Navigation */
        .top-nav {
            background: var(--color-white);
            box-shadow: var(--shadow-md);
            padding: var(--space-md) var(--space-lg);
            position: sticky;
            top: 0;
            z-index: 999;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }
        
        .top-nav-left {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--color-gray-700);
            font-size: 1.25rem;
            cursor: pointer;
            padding: var(--space-xs);
        }
        
        @media (max-width: 1024px) {
            .mobile-menu-btn {
                display: block;
            }
        }
        
        .page-title {
            font-size: 1.5rem;
            margin: 0;
        }
        
        .top-nav-right {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }
        
        .ai-status {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-xs) var(--space-sm);
            background: rgba(255, 158, 0, 0.1);
            border-radius: var(--radius-full);
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--color-accent);
        }
        
        .ai-status-dot {
            width: 8px;
            height: 8px;
            background: var(--color-accent);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Chat Assistant Main Container */
        .chat-assistant-container {
            display: flex;
            flex: 1;
            overflow: hidden;
            background: var(--color-white);
        }
        
        @media (max-width: 1024px) {
            .chat-assistant-container {
                flex-direction: column;
            }
        }
        
        /* Chat Side Panel */
        .chat-side-panel {
            width: 320px;
            background: var(--color-gray-100);
            border-right: 1px solid var(--color-gray-300);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .chat-side-panel {
                width: 100%;
                height: 300px;
            }
        }
        
        /* AI Assistant Info */
        .ai-assistant-info {
            padding: var(--space-lg);
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-gray-900) 100%);
            color: var(--color-white);
        }
        
        .ai-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-emergency) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin: 0 auto var(--space-md);
            position: relative;
        }
        
        .ai-avatar::after {
            content: '';
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 16px;
            height: 16px;
            background: var(--color-success);
            border-radius: 50%;
            border: 2px solid var(--color-white);
        }
        
        .ai-name {
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: var(--space-xs);
        }
        
        .ai-title {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: var(--space-md);
        }
        
        .ai-capabilities {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-xs);
            justify-content: center;
            margin-top: var(--space-md);
        }
        
        .capability-tag {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* Quick Actions */
        .quick-actions {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--color-gray-300);
            flex-shrink: 0;
        }
        
        .quick-actions h4 {
            margin-bottom: var(--space-md);
            color: var(--color-gray-900);
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-sm);
        }
        
        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-md);
            background: var(--color-white);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-fast);
            text-align: center;
        }
        
        .action-btn:hover {
            border-color: var(--color-accent);
            background: rgba(255, 158, 0, 0.05);
            transform: translateY(-2px);
        }
        
        .action-btn i {
            font-size: 1.5rem;
            color: var(--color-accent);
        }
        
        .action-btn span {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--color-gray-800);
        }
        
        /* Chat History */
        .chat-history {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-lg);
        }
        
        .chat-history h4 {
            margin-bottom: var(--space-md);
            color: var(--color-gray-900);
        }
        
        .history-list {
            list-style: none;
        }
        
        .history-item {
            padding: var(--space-sm);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-sm);
            cursor: pointer;
            transition: all var(--transition-fast);
            border: 1px solid transparent;
        }
        
        .history-item:hover {
            background: var(--color-gray-200);
            border-color: var(--color-gray-300);
        }
        
        .history-item.active {
            background: rgba(255, 158, 0, 0.1);
            border-color: var(--color-accent);
        }
        
        .history-title {
            font-weight: 600;
            color: var(--color-gray-900);
            margin-bottom: 0.25rem;
            display: flex;
            justify-content: space-between;
        }
        
        .history-preview {
            font-size: 0.875rem;
            color: var(--color-gray-600);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .history-date {
            font-size: 0.75rem;
            color: var(--color-gray-500);
        }
        
        /* Chat Main Area */
        .chat-main-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--color-white);
            overflow: hidden;
        }
        
        /* Chat Header */
        .chat-header {
            padding: var(--space-md) var(--space-lg);
            border-bottom: 1px solid var(--color-gray-300);
            background: var(--color-white);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
            height: var(--chat-header-height);
        }
        
        .chat-header-left {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }
        
        .chat-header-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-emergency) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }
        
        .chat-header-info h3 {
            margin-bottom: 0.25rem;
        }
        
        .chat-header-info p {
            margin: 0;
            color: var(--color-gray-600);
            font-size: 0.875rem;
        }
        
        .chat-header-actions {
            display: flex;
            gap: var(--space-sm);
        }
        
        /* Chat Messages Container */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-lg);
            background: linear-gradient(180deg, var(--color-white) 0%, var(--color-gray-100) 100%);
        }
        
        /* Chat Message Styles */
        .message {
            margin-bottom: var(--space-lg);
            display: flex;
            gap: var(--space-md);
            animation: fadeIn 0.3s ease;
        }
        
        .message.ai {
            flex-direction: row;
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .message.ai .message-avatar {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-emergency) 100%);
        }
        
        .message.user .message-avatar {
            background: var(--color-primary);
        }
        
        .message-content {
            max-width: 70%;
            min-width: 200px;
        }
        
        .message.ai .message-content {
            margin-right: auto;
        }
        
        .message.user .message-content {
            margin-left: auto;
        }
        
        .message-bubble {
            padding: var(--space-md);
            border-radius: var(--radius-xl);
            position: relative;
            box-shadow: var(--shadow-sm);
        }
        
        .message.ai .message-bubble {
            background: white;
            border: 1px solid var(--color-gray-300);
            border-top-left-radius: 4px;
        }
        
        .message.user .message-bubble {
            background: var(--color-primary);
            color: white;
            border-top-right-radius: 4px;
        }
        
        .message-text {
            line-height: 1.6;
        }
        
        .message-time {
            font-size: 0.75rem;
            color: var(--color-gray-500);
            margin-top: var(--space-xs);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }
        
        .message.user .message-time {
            color: rgba(255, 255, 255, 0.7);
            justify-content: flex-end;
        }
        
        /* Message Actions */
        .message-actions {
            display: flex;
            gap: var(--space-xs);
            margin-top: var(--space-sm);
        }
        
        .message-action-btn {
            background: none;
            border: none;
            color: var(--color-gray-600);
            font-size: 0.875rem;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .message-action-btn:hover {
            background: var(--color-gray-200);
            color: var(--color-primary);
        }
        
        /* Quick Reply Buttons */
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin-top: var(--space-md);
        }
        
        .quick-reply-btn {
            background: var(--color-gray-100);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .quick-reply-btn:hover {
            background: var(--color-gray-200);
            border-color: var(--color-accent);
        }
        
        /* Chat Input */
        .chat-input-container {
            padding: var(--space-md) var(--space-lg);
            border-top: 1px solid var(--color-gray-300);
            background: var(--color-white);
            flex-shrink: 0;
            height: var(--chat-input-height);
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: var(--space-md);
            align-items: flex-end;
        }
        
        .chat-input {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }
        
        .chat-input-textarea {
            width: 100%;
            padding: var(--space-md);
            border: 2px solid var(--color-gray-300);
            border-radius: var(--radius-xl);
            font-family: var(--font-sans);
            font-size: 1rem;
            resize: none;
            min-height: 44px;
            max-height: 120px;
            transition: all var(--transition-fast);
        }
        
        .chat-input-textarea:focus {
            outline: none;
            border-color: var(--color-accent);
            box-shadow: 0 0 0 3px rgba(255, 158, 0, 0.1);
        }
        
        .chat-input-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .input-attachments {
            display: flex;
            gap: var(--space-sm);
        }
        
        .attachment-btn {
            background: none;
            border: none;
            color: var(--color-gray-600);
            font-size: 1.25rem;
            cursor: pointer;
            padding: var(--space-xs);
            border-radius: var(--radius-md);
            transition: all var(--transition-fast);
        }
        
        .attachment-btn:hover {
            background: var(--color-gray-200);
            color: var(--color-primary);
        }
        
        .chat-send-btn {
            background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-emergency) 100%);
            color: white;
            border: none;
            border-radius: var(--radius-full);
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-fast);
            flex-shrink: 0;
        }
        
        .chat-send-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-glow);
        }
        
        /* Suggestions Bar */
        .suggestions-bar {
            padding: var(--space-md) var(--space-lg);
            background: var(--color-gray-100);
            border-top: 1px solid var(--color-gray-300);
            overflow-x: auto;
            flex-shrink: 0;
        }
        
        .suggestions-bar h4 {
            margin-bottom: var(--space-sm);
            font-size: 0.875rem;
            color: var(--color-gray-700);
        }
        
        .suggestions-list {
            display: flex;
            gap: var(--space-sm);
        }
        
        .suggestion-btn {
            background: var(--color-white);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .suggestion-btn:hover {
            background: var(--color-gray-200);
            border-color: var(--color-accent);
        }
        
        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: var(--space-md);
            background: white;
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-xl);
            max-width: 200px;
        }
        
        .typing-dots {
            display: flex;
            gap: 0.25rem;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--color-gray-400);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        /* Chat Templates */
        .chat-templates {
            padding: var(--space-lg);
            background: var(--color-gray-100);
            border-top: 1px solid var(--color-gray-300);
        }
        
        .chat-templates h4 {
            margin-bottom: var(--space-md);
        }
        
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: var(--space-md);
        }
        
        .template-card {
            background: var(--color-white);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .template-card:hover {
            border-color: var(--color-accent);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .template-icon {
            font-size: 1.5rem;
            color: var(--color-accent);
            margin-bottom: var(--space-sm);
        }
        
        .template-card h5 {
            margin-bottom: 0.5rem;
        }
        
        .template-card p {
            font-size: 0.875rem;
            color: var(--color-gray-600);
            margin: 0;
        }
        
        /* Utility Classes */
        .hidden {
            display: none !important;
        }
        
        .mb-0 {
            margin-bottom: 0 !important;
        }
        
        .mt-1 {
            margin-top: var(--space-sm);
        }
        
        .mt-2 {
            margin-top: var(--space-md);
        }
        
        .mt-3 {
            margin-top: var(--space-lg);
        }
        
        .mt-4 {
            margin-top: var(--space-xl);
        }
        
        .text-center {
            text-align: center;
        }
        
        .flex {
            display: flex;
        }
        
        .items-center {
            align-items: center;
        }
        
        .justify-between {
            justify-content: space-between;
        }
        
        .gap-2 {
            gap: var(--space-sm);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease;
        }
        
        /* Code Blocks */
        .code-block {
            background: var(--color-gray-900);
            color: var(--color-gray-300);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            font-family: var(--font-mono);
            font-size: 0.875rem;
            margin: var(--space-sm) 0;
            overflow-x: auto;
        }
        
        .code-block .keyword { color: #ff79c6; }
        .code-block .function { color: #50fa7b; }
        .code-block .string { color: #f1fa8c; }
        .code-block .comment { color: #6272a4; }
        .code-block .number { color: #bd93f9; }
        
        /* Loading Indicator */
        .loading-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-gray-300);
            border-top-color: var(--color-accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Context Menu */
        .context-menu {
            position: absolute;
            background: var(--color-white);
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            z-index: 1000;
            min-width: 200px;
            padding: var(--space-sm) 0;
        }
        
        .context-menu-item {
            padding: var(--space-sm) var(--space-md);
            cursor: pointer;
            transition: background var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }
        
        .context-menu-item:hover {
            background: var(--color-gray-100);
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .chat-side-panel {
                height: auto;
                max-height: 50vh;
            }
            
            .message-content {
                max-width: 85%;
            }
            
            .action-buttons {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .suggestions-list {
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 0.5rem;
            }
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--color-gray-200);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--color-gray-400);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-gray-500);
        }
        
        /* Message Status Indicators */
        .message-status {
            display: flex;
            align-items: center;
            gap: 2px;
        }
        
        .status-icon {
            font-size: 0.75rem;
        }
        
        .status-read {
            color: var(--color-success);
        }
        
        .status-delivered {
            color: var(--color-gray-500);
        }
        
        .status-sending {
            color: var(--color-gray-400);
        }
        
        /* File Upload Preview */
        .file-preview {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm);
            background: var(--color-gray-100);
            border-radius: var(--radius-md);
            margin-top: var(--space-sm);
        }
        
        .file-icon {
            font-size: 1.5rem;
            color: var(--color-accent);
        }
        
        .file-info {
            flex: 1;
        }
        
        .file-name {
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        .file-size {
            font-size: 0.75rem;
            color: var(--color-gray-600);
        }
        
        .file-remove {
            background: none;
            border: none;
            color: var(--color-gray-500);
            cursor: pointer;
            padding: 0.25rem;
        }
        
        .file-remove:hover {
            color: var(--color-emergency);
        }
        
        /* Voice Input */
        .voice-input {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm);
            background: var(--color-gray-100);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-sm);
        }
        
        .voice-indicator {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .voice-bar {
            width: 2px;
            height: 16px;
            background: var(--color-gray-400);
            border-radius: 1px;
            animation: voicePulse 1s infinite;
        }
        
        @keyframes voicePulse {
            0%, 100% { height: 8px; }
            50% { height: 16px; }
        }
        
        .voice-action {
            background: none;
            border: none;
            color: var(--color-emergency);
            cursor: pointer;
        }
        
        /* Welcome Screen */
        .welcome-screen {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space-xl);
            text-align: center;
            background: linear-gradient(135deg, var(--color-gray-100) 0%, var(--color-white) 100%);
        }
        
        .welcome-icon {
            font-size: 4rem;
            color: var(--color-accent);
            margin-bottom: var(--space-lg);
        }
        
        .welcome-title {
            font-size: 2rem;
            margin-bottom: var(--space-md);
            background: linear-gradient(90deg, var(--color-accent) 0%, var(--color-emergency) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .welcome-subtitle {
            color: var(--color-gray-600);
            max-width: 500px;
            margin: 0 auto var(--space-xl);
        }
        
        .welcome-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-lg);
            max-width: 800px;
            margin-top: var(--space-xl);
        }
        
        .welcome-feature {
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2rem;
            color: var(--color-accent);
            margin-bottom: var(--space-sm);
        }
        
        /* Search Bar */
        .chat-search {
            padding: var(--space-sm) var(--space-lg);
            border-bottom: 1px solid var(--color-gray-300);
        }
        
        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid var(--color-gray-300);
            border-radius: var(--radius-lg);
            background: var(--color-white) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23778da9' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E") no-repeat left 1rem center;
            font-size: 0.875rem;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--color-accent);
            box-shadow: 0 0 0 3px rgba(255, 158, 0, 0.1);
        }
        
        /* Context Information */
        .context-info {
            background: var(--color-gray-100);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            margin: var(--space-md) 0;
            border-left: 4px solid var(--color-accent);
        }
        
        .context-info h5 {
            color: var(--color-gray-900);
            margin-bottom: var(--space-xs);
        }
        
        .context-info p {
            margin: 0;
            font-size: 0.875rem;
            color: var(--color-gray-600);
        }
        
        /* Modal Overlay */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(13, 27, 42, 0.9);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-md);
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: var(--color-white);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            max-width: 800px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--color-gray-600);
            font-size: 1.25rem;
            cursor: pointer;
            padding: var(--space-xs);
        }
        
        .modal-close:hover {
            color: var(--color-emergency);
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- ===== SIDEBAR ===== -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="/employer-dashboard/" class="sidebar-logo">
                    <div class="sidebar-logo-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="sidebar-logo-text">Jobpitality</div>
                </a>
                
                <div class="company-info">
                    <div class="company-name">Grand Vista Resort & Spa</div>
                    <div class="company-plan">
                        <i class="fas fa-crown" style="color: var(--color-accent);"></i>
                        <span>Premium Plan â€¢ AI Assistant</span>
                    </div>
                </div>
            </div>
            
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="/employer-dashboard/" class="nav-link">
                            <i class="fas fa-arrow-left"></i>
                            Back to Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/automation/" class="nav-link">
                            <i class="fas fa-magic"></i>
                            AI Automation Hub
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/success-analytics/" class="nav-link">
                            <i class="fas fa-chart-bar"></i>
                            Success Analytics
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link active">
                            <i class="fas fa-comments"></i>
                            AI Chat Assistant
                            <span class="nav-badge">NEW</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/pipeline/" class="nav-link">
                            <i class="fas fa-stream"></i>
                            Talent Pipeline
                            <span class="nav-badge">45</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/jobs/" class="nav-link">
                            <i class="fas fa-briefcase"></i>
                            Job Listings
                            <span class="nav-badge">12</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/candidates/" class="nav-link">
                            <i class="fas fa-users"></i>
                            Candidates
                            <span class="nav-badge">327</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/emergency-hire/" class="nav-link">
                            <i class="fas fa-bolt"></i>
                            Emergency Hire
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/team/" class="nav-link">
                            <i class="fas fa-user-friends"></i>
                            Team Collaboration
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/employer-dashboard/settings/" class="nav-link">
                            <i class="fas fa-cog"></i>
                            Settings
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="ai-status">
                    <div class="ai-status-dot"></div>
                    <span>AI Assistant Active</span>
                </div>
                <button class="btn btn-chat btn-sm btn-block mt-2" id="newChatBtn">
                    <i class="fas fa-plus"></i>
                    New Chat
                </button>
            </div>
        </aside>

        <!-- ===== MAIN CONTENT ===== -->
        <main class="main-content">
            <!-- Top Navigation -->
            <nav class="top-nav">
                <div class="top-nav-left">
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="page-title">AI Chat Assistant</h1>
                </div>
                
                <div class="top-nav-right">
                    <div class="ai-status">
                        <div class="ai-status-dot"></div>
                        <span>Real-time AI Processing</span>
                    </div>
                    <button class="btn btn-primary" id="voiceInputBtn">
                        <i class="fas fa-microphone"></i>
                        Voice Input
                    </button>
                    <button class="btn btn-secondary" id="helpBtn">
                        <i class="fas fa-question-circle"></i>
                        Help & Tips
                    </button>
                </div>
            </nav>

            <!-- Chat Assistant Container -->
            <div class="chat-assistant-container">
                <!-- Chat Side Panel -->
                <div class="chat-side-panel">
                    <!-- AI Assistant Info -->
                    <div class="ai-assistant-info">
                        <div class="ai-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3 class="ai-name">JOB-AI Assistant</h3>
                        <p class="ai-title">Your Hospitality Hiring Expert</p>
                        
                        <div class="ai-capabilities">
                            <span class="capability-tag">Recruitment</span>
                            <span class="capability-tag">Scheduling</span>
                            <span class="capability-tag">Screening</span>
                            <span class="capability-tag">Analytics</span>
                            <span class="capability-tag">24/7 Support</span>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <h4>Quick Actions</h4>
                        <div class="action-buttons">
                            <div class="action-btn" data-action="schedule-interview">
                                <i class="fas fa-calendar-check"></i>
                                <span>Schedule Interview</span>
                            </div>
                            <div class="action-btn" data-action="screen-candidate">
                                <i class="fas fa-user-check"></i>
                                <span>Screen Candidate</span>
                            </div>
                            <div class="action-btn" data-action="create-job">
                                <i class="fas fa-briefcase"></i>
                                <span>Create Job Post</span>
                            </div>
                            <div class="action-btn" data-action="analytics">
                                <i class="fas fa-chart-pie"></i>
                                <span>Get Analytics</span>
                            </div>
                            <div class="action-btn" data-action="emergency-hire">
                                <i class="fas fa-bolt"></i>
                                <span>Emergency Hire</span>
                            </div>
                            <div class="action-btn" data-action="team-chat">
                                <i class="fas fa-users"></i>
                                <span>Team Chat</span>
                            </div>
                            <div class="action-btn" data-action="templates">
                                <i class="fas fa-file-alt"></i>
                                <span>Templates</span>
                            </div>
                            <div class="action-btn" data-action="settings">
                                <i class="fas fa-cog"></i>
                                <span>Settings</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Search -->
                    <div class="chat-search">
                        <input type="text" class="search-input" placeholder="Search chat history..." id="chatSearch">
                    </div>
                    
                    <!-- Chat History -->
                    <div class="chat-history">
                        <h4>Recent Chats</h4>
                        <ul class="history-list" id="chatHistoryList">
                            <li class="history-item active" data-chat-id="current">
                                <div class="history-title">
                                    <span>Front Desk Hiring</span>
                                    <span class="history-date">Today</span>
                                </div>
                                <div class="history-preview">Can you screen candidates for front desk position?</div>
                            </li>
                            <li class="history-item" data-chat-id="yesterday">
                                <div class="history-title">
                                    <span>Emergency Chef Hiring</span>
                                    <span class="history-date">Yesterday</span>
                                </div>
                                <div class="history-preview">Need emergency chef for weekend events...</div>
                            </li>
                            <li class="history-item" data-chat-id="week1">
                                <div class="history-title">
                                    <span>Summer Staff Planning</span>
                                    <span class="history-date">3 days ago</span>
                                </div>
                                <div class="history-preview">Planning summer staffing requirements...</div>
                            </li>
                            <li class="history-item" data-chat-id="week2">
                                <div class="history-title">
                                    <span>Interview Questions</span>
                                    <span class="history-date">1 week ago</span>
                                </div>
                                <div class="history-preview">Help with interview questions for housekeeping...</div>
                            </li>
                            <li class="history-item" data-chat-id="week3">
                                <div class="history-title">
                                    <span>Salary Analysis</span>
                                    <span class="history-date">2 weeks ago</span>
                                </div>
                                <div class="history-preview">Market salary analysis for bartender positions...</div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Chat Main Area -->
                <div class="chat-main-area">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <div class="chat-header-left">
                            <div class="chat-header-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="chat-header-info">
                                <h3>JOB-AI Assistant</h3>
                                <p>Online â€¢ Ready to help with your hiring needs</p>
                            </div>
                        </div>
                        
                        <div class="chat-header-actions">
                            <button class="btn btn-sm btn-outline" id="clearChatBtn">
                                <i class="fas fa-trash-alt"></i>
                                Clear Chat
                            </button>
                            <button class="btn btn-sm btn-primary" id="exportChatBtn">
                                <i class="fas fa-download"></i>
                                Export
                            </button>
                        </div>
                    </div>
                    
                    <!-- Chat Messages Container -->
                    <div class="chat-messages" id="chatMessages">
                        <!-- Welcome message -->
                        <div class="message ai fade-in">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-bubble">
                                    <div class="message-text">
                                        <h4>ðŸ‘‹ Hello! I'm JOB-AI, your Hospitality Hiring Assistant</h4>
                                        <p>I'm here to help you with all your recruitment needs. I can help you:</p>
                                        <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                                            <li>Screen and evaluate candidates</li>
                                            <li>Schedule interviews automatically</li>
                                            <li>Create job descriptions and postings</li>
                                            <li>Analyze hiring metrics and success rates</li>
                                            <li>Handle emergency hiring situations</li>
                                            <li>Provide industry insights and benchmarks</li>
                                        </ul>
                                        <p>What would you like to work on today?</p>
                                    </div>
                                    <div class="message-time">
                                        <span>Today 10:30 AM</span>
                                        <span class="message-status">
                                            <i class="fas fa-check status-read"></i>
                                        </span>
                                    </div>
                                    
                                    <!-- Quick Replies -->
                                    <div class="quick-replies">
                                        <button class="quick-reply-btn" data-reply="screen-candidate">
                                            <i class="fas fa-user-check"></i>
                                            Screen a candidate
                                        </button>
                                        <button class="quick-reply-btn" data-reply="schedule-interview">
                                            <i class="fas fa-calendar-alt"></i>
                                            Schedule interview
                                        </button>
                                        <button class="quick-reply-btn" data-reply="create-job">
                                            <i class="fas fa-briefcase"></i>
                                            Create job post
                                        </button>
                                        <button class="quick-reply-btn" data-reply="analytics">
                                            <i class="fas fa-chart-bar"></i>
                                            Get analytics
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- User message example -->
                        <div class="message user fade-in">
                            <div class="message-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-bubble">
                                    <div class="message-text">
                                        Can you help me screen candidates for our Front Desk Associate position? I need someone with good customer service skills and hotel experience.
                                    </div>
                                    <div class="message-time">
                                        <span>Today 10:32 AM</span>
                                        <span class="message-status">
                                            <i class="fas fa-check-double status-read"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- AI response example -->
                        <div class="message ai fade-in">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-bubble">
                                    <div class="message-text">
                                        <h4>ðŸŽ¯ Front Desk Associate Screening Criteria</h4>
                                        <p>I'll help you screen candidates for the Front Desk position. Based on your requirements, I recommend looking for:</p>
                                        
                                        <div class="context-info">
                                            <h5>ðŸ” Key Screening Criteria:</h5>
                                            <p>â€¢ 2+ years hotel front desk experience<br>
                                               â€¢ Excellent communication skills<br>
                                               â€¢ PMS software proficiency (Opera, Fidelio)<br>
                                               â€¢ Multi-tasking ability<br>
                                               â€¢ Customer service certification (preferred)</p>
                                        </div>
                                        
                                        <p>I can screen your current candidates or help you find new ones. Would you like me to:</p>
                                    </div>
                                    <div class="message-time">
                                        <span>Today 10:33 AM</span>
                                        <span class="message-status">
                                            <i class="fas fa-check status-read"></i>
                                        </span>
                                    </div>
                                    
                                    <!-- Quick Replies -->
                                    <div class="quick-replies">
                                        <button class="quick-reply-btn" data-reply="screen-existing">
                                            <i class="fas fa-users"></i>
                                            Screen existing candidates
                                        </button>
                                        <button class="quick-reply-btn" data-reply="find-new">
                                            <i class="fas fa-search"></i>
                                            Find new candidates
                                        </button>
                                        <button class="quick-reply-btn" data-reply="questions">
                                            <i class="fas fa-question-circle"></i>
                                            Suggested interview questions
                                        </button>
                                    </div>
                                    
                                    <!-- Message Actions -->
                                    <div class="message-actions">
                                        <button class="message-action-btn">
                                            <i class="fas fa-thumbs-up"></i>
                                            Helpful
                                        </button>
                                        <button class="message-action-btn">
                                            <i class="fas fa-thumbs-down"></i>
                                            Not helpful
                                        </button>
                                        <button class="message-action-btn">
                                            <i class="fas fa-copy"></i>
                                            Copy
                                        </button>
                                        <button class="message-action-btn">
                                            <i class="fas fa-share"></i>
                                            Share
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Suggestions Bar -->
                    <div class="suggestions-bar" id="suggestionsBar">
                        <h4>Try asking:</h4>
                        <div class="suggestions-list">
                            <button class="suggestion-btn" data-suggestion="schedule">
                                <i class="fas fa-calendar-alt"></i>
                                "Schedule interview with candidate #45"
                            </button>
                            <button class="suggestion-btn" data-suggestion="create-job">
                                <i class="fas fa-file-alt"></i>
                                "Create job post for bartender"
                            </button>
                            <button class="suggestion-btn" data-suggestion="analytics">
                                <i class="fas fa-chart-line"></i>
                                "Show hiring success rate"
                            </button>
                            <button class="suggestion-btn" data-suggestion="emergency">
                                <i class="fas fa-bolt"></i>
                                "I need emergency staff for Saturday"
                            </button>
                        </div>
                    </div>
                    
                    <!-- Chat Input -->
                    <div class="chat-input-container">
                        <div class="chat-input-wrapper">
                            <div class="chat-input">
                                <!-- File preview (hidden by default) -->
                                <div class="file-preview hidden" id="filePreview">
                                    <div class="file-icon">
                                        <i class="fas fa-file-pdf"></i>
                                    </div>
                                    <div class="file-info">
                                        <div class="file-name">Candidate_Resume.pdf</div>
                                        <div class="file-size">2.4 MB</div>
                                    </div>
                                    <button class="file-remove" id="removeFileBtn">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <!-- Voice input (hidden by default) -->
                                <div class="voice-input hidden" id="voiceInput">
                                    <div class="voice-indicator">
                                        <div class="voice-bar"></div>
                                        <div class="voice-bar"></div>
                                        <div class="voice-bar"></div>
                                        <div class="voice-bar"></div>
                                        <div class="voice-bar"></div>
                                    </div>
                                    <span>Listening... Speak now</span>
                                    <button class="voice-action" id="stopVoiceBtn">
                                        <i class="fas fa-stop-circle"></i>
                                    </button>
                                </div>
                                
                                <textarea 
                                    class="chat-input-textarea" 
                                    id="chatInput"
                                    placeholder="Type your message here... (Press Enter to send, Shift+Enter for new line)"
                                    rows="1"
                                ></textarea>
                                
                                <div class="chat-input-actions">
                                    <div class="input-attachments">
                                        <button class="attachment-btn" id="attachFileBtn" title="Attach file">
                                            <i class="fas fa-paperclip"></i>
                                        </button>
                                        <button class="attachment-btn" id="attachImageBtn" title="Attach image">
                                            <i class="fas fa-image"></i>
                                        </button>
                                        <button class="attachment-btn" id="recordVoiceBtn" title="Voice input">
                                            <i class="fas fa-microphone"></i>
                                        </button>
                                        <button class="attachment-btn" id="emojiBtn" title="Insert emoji">
                                            <i class="fas fa-smile"></i>
                                        </button>
                                        <button class="attachment-btn" id="templateBtn" title="Use template">
                                            <i class="fas fa-magic"></i>
                                        </button>
                                    </div>
                                    <button class="chat-send-btn" id="sendMessageBtn" title="Send message">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Templates Modal -->
    <div class="modal-overlay hidden" id="templatesModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Chat Templates</h2>
                <button class="modal-close" id="closeTemplatesModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="chat-templates">
                <div class="templates-grid">
                    <div class="template-card" data-template="screen-candidate">
                        <div class="template-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <h5>Screen Candidate</h5>
                        <p>Evaluate candidate qualifications for specific roles</p>
                    </div>
                    
                    <div class="template-card" data-template="schedule-interview">
                        <div class="template-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <h5>Schedule Interview</h5>
                        <p>Set up interviews with candidates and team members</p>
                    </div>
                    
                    <div class="template-card" data-template="create-job">
                        <div class="template-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <h5>Create Job Post</h5>
                        <p>Generate optimized job descriptions</p>
                    </div>
                    
                    <div class="template-card" data-template="analytics">
                        <div class="template-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h5>Get Analytics</h5>
                        <p>Request hiring metrics and performance data</p>
                    </div>
                    
                    <div class="template-card" data-template="emergency-hire">
                        <div class="template-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h5>Emergency Hire</h5>
                        <p>Quick hiring for urgent staffing needs</p>
                    </div>
                    
                    <div class="template-card" data-template="interview-questions">
                        <div class="template-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <h5>Interview Questions</h5>
                        <p>Get role-specific interview questions</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help & Tips Modal -->
    <div class="modal-overlay hidden" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Help & Tips</h2>
                <button class="modal-close" id="closeHelpModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div style="padding: var(--space-lg);">
                <h3>Getting Started with JOB-AI Assistant</h3>
                
                <div class="context-info">
                    <h5>ðŸ’¡ Pro Tips:</h5>
                    <p>â€¢ Be specific about your needs - include role, experience level, and requirements<br>
                       â€¢ Attach documents (resumes, job descriptions) for better analysis<br>
                       â€¢ Use voice input for quick queries while multitasking<br>
                       â€¢ Try quick actions for common tasks</p>
                </div>
                
                <h4>Common Commands:</h4>
                <div class="code-block">
                    <span class="comment"># Screening & Evaluation</span><br>
                    <span class="keyword">"Screen candidate #45 for front desk position"</span><br>
                    <span class="keyword">"Evaluate this resume for hotel manager role"</span><br>
                    <br>
                    <span class="comment"># Scheduling & Coordination</span><br>
                    <span class="keyword">"Schedule interview with Sarah Johnson next week"</span><br>
                    <span class="keyword">"Find available time slots for team interviews"</span><br>
                    <br>
                    <span class="comment"># Job Creation & Posting</span><br>
                    <span class="keyword">"Create job description for executive chef"</span><br>
                    <span class="keyword">"Post bartender job to all platforms"</span><br>
                    <br>
                    <span class="comment"># Analytics & Reports</span><br>
                    <span class="keyword">"Show hiring success rate last quarter"</span><br>
                    <span class="keyword">"Generate recruitment cost report"</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Emoji Picker (Simplified) -->
    <div class="context-menu hidden" id="emojiPicker" style="position: fixed; bottom: 120px; right: 120px;">
        <div class="context-menu-item" data-emoji="ðŸ˜Š">ðŸ˜Š Smile</div>
        <div class="context-menu-item" data-emoji="ðŸ‘">ðŸ‘ Thumbs up</div>
        <div class="context-menu-item" data-emoji="ðŸŽ¯">ðŸŽ¯ Target</div>
        <div class="context-menu-item" data-emoji="âš ï¸">âš ï¸ Warning</div>
        <div class="context-menu-item" data-emoji="âœ…">âœ… Check</div>
        <div class="context-menu-item" data-emoji="ðŸ“Š">ðŸ“Š Chart</div>
        <div class="context-menu-item" data-emoji="ðŸ‘¥">ðŸ‘¥ Team</div>
        <div class="context-menu-item" data-emoji="ðŸ’°">ðŸ’° Money</div>
    </div>

    <!-- Scripts -->
    <script>
      // DOM Elements
const sidebar = document.getElementById('sidebar');
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const chatInput = document.getElementById('chatInput');
const sendMessageBtn = document.getElementById('sendMessageBtn');
const chatMessages = document.getElementById('chatMessages');
const newChatBtn = document.getElementById('newChatBtn');
const clearChatBtn = document.getElementById('clearChatBtn');
const exportChatBtn = document.getElementById('exportChatBtn');
const voiceInputBtn = document.getElementById('voiceInputBtn');
const helpBtn = document.getElementById('helpBtn');
const attachFileBtn = document.getElementById('attachFileBtn');
const recordVoiceBtn = document.getElementById('recordVoiceBtn');
const emojiBtn = document.getElementById('emojiBtn');
const templateBtn = document.getElementById('templateBtn');
const filePreview = document.getElementById('filePreview');
const removeFileBtn = document.getElementById('removeFileBtn');
const voiceInput = document.getElementById('voiceInput');
const stopVoiceBtn = document.getElementById('stopVoiceBtn');
const templatesModal = document.getElementById('templatesModal');
const closeTemplatesModal = document.getElementById('closeTemplatesModal');
const helpModal = document.getElementById('helpModal');
const closeHelpModal = document.getElementById('closeHelpModal');
const emojiPicker = document.getElementById('emojiPicker');
const quickReplyBtns = document.querySelectorAll('.quick-reply-btn');
const suggestionBtns = document.querySelectorAll('.suggestion-btn');
const actionBtns = document.querySelectorAll('.action-btn');
const historyItems = document.querySelectorAll('.history-item');
const chatSearch = document.getElementById('chatSearch');

// Mobile Menu Toggle
mobileMenuBtn.addEventListener('click', () => {
    sidebar.classList.toggle('active');
});

// Auto-resize textarea
chatInput.addEventListener('input', function() {
    this.style.height = 'auto';
    this.style.height = (this.scrollHeight) + 'px';
});

// Send message on Enter (Shift+Enter for new line)
chatInput.addEventListener('keydown', function(e) {
    if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
    }
});

// Send message button click
sendMessageBtn.addEventListener('click', sendMessage);

// New chat
newChatBtn.addEventListener('click', () => {
    if (chatMessages.children.length > 1) {
        if (confirm('Start a new chat? Your current chat will be saved.')) {
            // In real implementation, this would save current chat and start new
            const welcomeMessage = chatMessages.querySelector('.message.ai');
            chatMessages.innerHTML = '';
            chatMessages.appendChild(welcomeMessage);
            addMessage('New chat started. How can I help you today?', 'ai');
            showNotification('New chat started');
        }
    }
});

// Clear chat
clearChatBtn.addEventListener('click', () => {
    if (confirm('Clear all messages in this chat?')) {
        const welcomeMessage = chatMessages.querySelector('.message.ai');
        chatMessages.innerHTML = '';
        chatMessages.appendChild(welcomeMessage);
        showNotification('Chat cleared');
    }
});

// Export chat
exportChatBtn.addEventListener('click', () => {
    showNotification('Export feature coming soon!', 'info');
});

// Voice input toggle
let isRecording = false;
recordVoiceBtn.addEventListener('click', () => {
    if (!isRecording) {
        voiceInput.classList.remove('hidden');
        isRecording = true;
        simulateVoiceInput();
    } else {
        stopVoiceInput();
    }
});

stopVoiceBtn.addEventListener('click', stopVoiceInput);

function stopVoiceInput() {
    voiceInput.classList.add('hidden');
    isRecording = false;
}

function simulateVoiceInput() {
    setTimeout(() => {
        if (isRecording) {
            const simulatedText = "Find qualified candidates for executive chef position with 5+ years fine dining experience";
            chatInput.value = simulatedText;
            chatInput.style.height = (chatInput.scrollHeight) + 'px';
            stopVoiceInput();
            showNotification('Voice input captured');
        }
    }, 2000);
}

// Voice input from top nav
voiceInputBtn.addEventListener('click', () => {
    if (!isRecording) {
        voiceInput.classList.remove('hidden');
        isRecording = true;
        simulateVoiceInput();
    }
});

// Fixed: Removed CSS from JavaScript and added proper modal functions
function openModal(modal) {
    if (modal) {
        modal.classList.remove('hidden');
        modal.style.display = 'flex';
        document.body.classList.add('modal-open');
        // Force reflow to ensure rendering
        void modal.offsetWidth;
    }
}

function closeModal(modal) {
    if (modal) {
        modal.classList.add('hidden');
        modal.style.display = 'none';
        document.body.classList.remove('modal-open');
    }
}

// Help modal - UPDATED to use fixed functions
helpBtn.addEventListener('click', () => {
    openModal(helpModal);
});

closeHelpModal.addEventListener('click', () => {
    closeModal(helpModal);
});

// Attach file
attachFileBtn.addEventListener('click', () => {
    filePreview.classList.remove('hidden');
    showNotification('File attached (demo)');
});

removeFileBtn.addEventListener('click', () => {
    filePreview.classList.add('hidden');
});

// Emoji picker
emojiBtn.addEventListener('click', (e) => {
    const rect = emojiBtn.getBoundingClientRect();
    emojiPicker.style.bottom = `${window.innerHeight - rect.top + 10}px`;
    emojiPicker.style.right = `${window.innerWidth - rect.right}px`;
    emojiPicker.classList.toggle('hidden');
});

// Close emoji picker when clicking elsewhere
document.addEventListener('click', (e) => {
    if (!emojiBtn.contains(e.target) && !emojiPicker.contains(e.target)) {
        emojiPicker.classList.add('hidden');
    }
});

// Emoji selection
emojiPicker.querySelectorAll('.context-menu-item').forEach(item => {
    item.addEventListener('click', () => {
        const emoji = item.dataset.emoji;
        chatInput.value += emoji;
        emojiPicker.classList.add('hidden');
        chatInput.focus();
    });
});

// Templates modal - UPDATED to use fixed functions
templateBtn.addEventListener('click', () => {
    openModal(templatesModal);
});

closeTemplatesModal.addEventListener('click', () => {
    closeModal(templatesModal);
});

// Template selection
document.querySelectorAll('.template-card').forEach(card => {
    card.addEventListener('click', () => {
        const template = card.dataset.template;
        let message = '';
        
        switch(template) {
            case 'screen-candidate':
                message = "Please screen candidates for the front desk associate position. I need someone with excellent customer service skills and hotel experience.";
                break;
            case 'schedule-interview':
                message = "Schedule interviews with the top 3 candidates for the executive chef position next week.";
                break;
            case 'create-job':
                message = "Create a job description for a bartender with mixology experience for our new rooftop bar.";
                break;
            case 'analytics':
                message = "Show me the hiring success rate and time-to-fill metrics for the last quarter.";
                break;
            case 'emergency-hire':
                message = "I need emergency staff for Saturday evening - 2 servers and 1 bartender.";
                break;
            case 'interview-questions':
                message = "Provide interview questions for a housekeeping supervisor position.";
                break;
        }
        
        chatInput.value = message;
        chatInput.style.height = (chatInput.scrollHeight) + 'px';
        closeModal(templatesModal);
        chatInput.focus();
        showNotification(`Template "${card.querySelector('h5').textContent}" loaded`);
    });
});

// Quick reply buttons
quickReplyBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        const reply = btn.dataset.reply;
        let message = '';
        
        switch(reply) {
            case 'screen-candidate':
                message = "Can you help me screen candidates?";
                break;
            case 'schedule-interview':
                message = "I need to schedule an interview";
                break;
            case 'create-job':
                message = "Help me create a job posting";
                break;
            case 'analytics':
                message = "Show me hiring analytics";
                break;
            case 'screen-existing':
                message = "Screen my existing candidates";
                break;
            case 'find-new':
                message = "Find new candidates for me";
                break;
            case 'questions':
                message = "Give me interview questions";
                break;
        }
        
        addMessage(message, 'user');
        simulateAIResponse(reply);
    });
});

// Suggestion buttons
suggestionBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        const suggestion = btn.dataset.suggestion;
        let message = '';
        
        switch(suggestion) {
            case 'schedule':
                message = "Schedule interview with candidate #45";
                break;
            case 'create-job':
                message = "Create job post for bartender";
                break;
            case 'analytics':
                message = "Show hiring success rate";
                break;
            case 'emergency':
                message = "I need emergency staff for Saturday";
                break;
        }
        
        chatInput.value = message;
        chatInput.style.height = (chatInput.scrollHeight) + 'px';
        chatInput.focus();
    });
});

// Action buttons
actionBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        const action = btn.dataset.action;
        let message = '';
        
        switch(action) {
            case 'schedule-interview':
                message = "Let's schedule an interview. Which candidate and position?";
                break;
            case 'screen-candidate':
                message = "I'd like to screen candidates. For which position?";
                break;
            case 'create-job':
                message = "Help me create a new job posting. What position?";
                break;
            case 'analytics':
                message = "Show me hiring analytics for the last month.";
                break;
            case 'emergency-hire':
                message = "I need emergency hiring assistance. What positions do you need?";
                break;
            case 'team-chat':
                message = "Let me connect you with the hiring team.";
                break;
            case 'templates':
                openModal(templatesModal);
                return;
            case 'settings':
                message = "Opening assistant settings...";
                break;
        }
        
        addMessage(message, 'user');
        simulateAIResponse(action);
    });
});

// Chat history selection
historyItems.forEach(item => {
    item.addEventListener('click', () => {
        historyItems.forEach(i => i.classList.remove('active'));
        item.classList.add('active');
        
        // In real implementation, this would load the selected chat
        const chatId = item.dataset.chatId;
        showNotification(`Loading chat: ${item.querySelector('.history-title span').textContent}`);
    });
});

// Chat search
chatSearch.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    historyItems.forEach(item => {
        const title = item.querySelector('.history-title span').textContent.toLowerCase();
        const preview = item.querySelector('.history-preview').textContent.toLowerCase();
        if (title.includes(searchTerm) || preview.includes(searchTerm)) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
    });
});

// Send message function
function sendMessage() {
    const message = chatInput.value.trim();
    if (!message) return;
    
    addMessage(message, 'user');
    chatInput.value = '';
    chatInput.style.height = 'auto';
    
    // Simulate AI thinking
    setTimeout(() => {
        simulateAIResponse(message);
    }, 1000 + Math.random() * 1000);
}

// Add message to chat
function addMessage(text, sender) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${sender} fade-in`;
    
    const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    
    messageDiv.innerHTML = `
        <div class="message-avatar">
            <i class="fas fa-${sender === 'ai' ? 'robot' : 'user'}"></i>
        </div>
        <div class="message-content">
            <div class="message-bubble">
                <div class="message-text">${formatMessage(text)}</div>
                <div class="message-time">
                    <span>${time}</span>
                    <span class="message-status">
                        <i class="fas fa-check${sender === 'user' ? '-double status-read' : ' status-read'}"></i>
                    </span>
                </div>
            </div>
        </div>
    `;
    
    chatMessages.appendChild(messageDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

// Format message text (simple formatting)
function formatMessage(text) {
    // Convert URLs to links
    text = text.replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank">$1</a>');
    
    // Convert bullet points
    text = text.replace(/^\s*[\-*]\s+(.+)$/gm, 'â€¢ $1');
    
    // Convert numbered lists
    let lines = text.split('\n');
    let inList = false;
    for (let i = 0; i < lines.length; i++) {
        if (/^\d+\.\s/.test(lines[i])) {
            if (!inList) {
                lines[i] = '<br>' + lines[i];
                inList = true;
            }
        } else if (lines[i].trim() && inList) {
            inList = false;
        }
    }
    text = lines.join('\n');
    
    return text.replace(/\n/g, '<br>');
}

// Simulate AI response
function simulateAIResponse(userMessage) {
    const responses = {
        'screen-candidate': {
            title: "ðŸŽ¯ Candidate Screening Assistant",
            message: "I'll help you screen candidates. Please tell me:<br><br>1. Which position are you hiring for?<br>2. What are the key requirements?<br>3. How many candidates need screening?<br><br>You can also attach resumes for me to analyze directly."
        },
        'schedule-interview': {
            title: "ðŸ“… Interview Scheduling",
            message: "I can help schedule interviews. I need to know:<br><br>â€¢ Candidate name(s)<br>â€¢ Interviewers<br>â€¢ Preferred dates/times<br>â€¢ Interview duration<br>â€¢ Location (in-person or virtual)<br><br>Would you like me to check team availability?"
        },
        'create-job': {
            title: "ðŸ“ Job Description Generator",
            message: "Let's create an optimized job posting. Please specify:<br><br>â€¢ Job title<br>â€¢ Department<br>â€¢ Experience level required<br>â€¢ Key responsibilities<br>â€¢ Required qualifications<br>â€¢ Salary range (if known)<br><br>I'll create a compelling job description that attracts top talent."
        },
        'analytics': {
            title: "ðŸ“Š Hiring Analytics",
            message: "Here are your key hiring metrics:<br><br>â€¢ <strong>Success Rate:</strong> 94.2% (+2.4%)<br>â€¢ <strong>Time to Hire:</strong> 18.5 days (-3.2 days)<br>â€¢ <strong>Cost per Hire:</strong> $8,425 saved<br>â€¢ <strong>Candidate Satisfaction:</strong> 68.5%<br><br>Would you like a detailed report or specific department analysis?"
        },
        'emergency-hire': {
            title: "âš¡ Emergency Hiring Activated",
            message: "Emergency hiring mode activated. I'll help you find staff immediately.<br><br>Please specify:<br>â€¢ Positions needed<br>â€¢ Shift dates/times<br>â€¢ Required experience level<br>â€¢ Budget constraints<br><br>I'll search our candidate pool and post emergency listings."
        }
    };
    
    let response;
    const lowerMessage = typeof userMessage === 'string' ? userMessage.toLowerCase() : userMessage;
    
    if (typeof userMessage !== 'string' && responses[userMessage]) {
        response = responses[userMessage];
    } else if (lowerMessage.includes('screen') || lowerMessage.includes('candidate')) {
        response = responses['screen-candidate'];
    } else if (lowerMessage.includes('schedule') || lowerMessage.includes('interview')) {
        response = responses['schedule-interview'];
    } else if (lowerMessage.includes('job') || lowerMessage.includes('post')) {
        response = responses['create-job'];
    } else if (lowerMessage.includes('analytic') || lowerMessage.includes('metric') || lowerMessage.includes('report')) {
        response = responses['analytics'];
    } else if (lowerMessage.includes('emergency') || lowerMessage.includes('urgent')) {
        response = responses['emergency-hire'];
    } else {
        response = {
            title: "ðŸ¤– JOB-AI Assistant",
            message: "I understand you're asking about: <em>" + (typeof userMessage === 'string' ? userMessage : 'this topic') + "</em><br><br>I can help you with:<br>â€¢ Screening and evaluating candidates<br>â€¢ Scheduling interviews<br>â€¢ Creating job descriptions<br>â€¢ Analyzing hiring metrics<br>â€¢ Emergency hiring<br><br>Could you provide more details about what you need?"
        };
    }
    
    // Add typing indicator
    const typingIndicator = document.createElement('div');
    typingIndicator.className = 'message ai';
    typingIndicator.innerHTML = `
        <div class="message-avatar">
            <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
            <div class="typing-indicator">
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
                <span>JOB-AI is typing...</span>
            </div>
        </div>
    `;
    
    chatMessages.appendChild(typingIndicator);
    chatMessages.scrollTop = chatMessages.scrollHeight;
    
    // Replace typing indicator with actual response after delay
    setTimeout(() => {
        typingIndicator.remove();
        
        const responseDiv = document.createElement('div');
        responseDiv.className = 'message ai fade-in';
        
        const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        
        responseDiv.innerHTML = `
            <div class="message-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-content">
                <div class="message-bubble">
                    <div class="message-text">
                        <h4>${response.title}</h4>
                        ${response.message}
                    </div>
                    <div class="message-time">
                        <span>${time}</span>
                        <span class="message-status">
                            <i class="fas fa-check status-read"></i>
                        </span>
                    </div>
                    
                    <div class="message-actions">
                        <button class="message-action-btn">
                            <i class="fas fa-thumbs-up"></i>
                            Helpful
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-thumbs-down"></i>
                            Not helpful
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-copy"></i>
                            Copy
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-share"></i>
                            Share
                        </button>
                    </div>
                </div>
            </div>
        `;
        
        chatMessages.appendChild(responseDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
        
        // Add action buttons for response
        setTimeout(() => {
            addQuickReplies(responseDiv, userMessage);
        }, 100);
    }, 1500 + Math.random() * 1000);
}

// Add quick replies to AI response
function addQuickReplies(responseDiv, userMessage) {
    const quickReplies = document.createElement('div');
    quickReplies.className = 'quick-replies';
    
    let replies = [];
    
    if (typeof userMessage === 'string' && userMessage.includes('screen')) {
        replies = [
            { text: 'Screen existing candidates', icon: 'users', action: 'screen-existing' },
            { text: 'Find new candidates', icon: 'search', action: 'find-new' },
            { text: 'Interview questions', icon: 'question-circle', action: 'questions' }
        ];
    } else if (typeof userMessage === 'string' && userMessage.includes('schedule')) {
        replies = [
            { text: 'Check availability', icon: 'calendar-check', action: 'availability' },
            { text: 'Send invites', icon: 'envelope', action: 'invites' },
            { text: 'Reschedule', icon: 'exchange-alt', action: 'reschedule' }
        ];
    } else {
        replies = [
            { text: 'Yes, continue', icon: 'check-circle', action: 'continue' },
            { text: 'More details', icon: 'info-circle', action: 'details' },
            { text: 'Different approach', icon: 'redo', action: 'redo' }
        ];
    }
    
    replies.forEach(reply => {
        const button = document.createElement('button');
        button.className = 'quick-reply-btn';
        button.dataset.reply = reply.action;
        button.innerHTML = `<i class="fas fa-${reply.icon}"></i> ${reply.text}`;
        quickReplies.appendChild(button);
    });
    
    responseDiv.querySelector('.message-bubble').appendChild(quickReplies);
    
    // Add event listeners to new quick reply buttons
    quickReplies.querySelectorAll('.quick-reply-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const reply = btn.dataset.reply;
            let message = '';
            
            switch(reply) {
                case 'screen-existing':
                    message = "Screen my existing candidates";
                    break;
                case 'find-new':
                    message = "Find new candidates for me";
                    break;
                case 'questions':
                    message = "Give me interview questions";
                    break;
                case 'availability':
                    message = "Check team availability";
                    break;
                case 'invites':
                    message = "Send interview invites";
                    break;
                case 'reschedule':
                    message = "I need to reschedule";
                    break;
                case 'continue':
                    message = "Yes, let's continue";
                    break;
                case 'details':
                    message = "Give me more details";
                    break;
                case 'redo':
                    message = "Let's try a different approach";
                    break;
            }
            
            addMessage(message, 'user');
            simulateAIResponse(reply);
        });
    });
}

// Notification function
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#2a9d8f' : type === 'error' ? '#e63946' : '#3b82f6'};
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
        z-index: 10000;
        animation: fadeIn 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.75rem;
    `;
    notification.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
        <span>${message}</span>
    `;
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.animation = 'fadeOut 0.3s ease';
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 300);
    }, 3000);
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', () => {
    // Add CSS for fadeOut animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }
        
        /* Add this CSS for modal-open class */
        body.modal-open {
            overflow: hidden !important;
        }
    `;
    document.head.appendChild(style);
    
    // Welcome notification
    setTimeout(() => {
        showNotification('JOB-AI Assistant is ready to help with your hiring needs!', 'success');
    }, 1000);
    
    // Simulate initial AI suggestions
    setTimeout(() => {
        const suggestionsBar = document.getElementById('suggestionsBar');
        suggestionsBar.classList.add('fade-in');
    }, 500);
});

// Message action buttons
document.addEventListener('click', function(e) {
    // Handle message action buttons
    if (e.target.closest('.message-action-btn')) {
        const btn = e.target.closest('.message-action-btn');
        const action = btn.textContent.trim();
        showNotification(`Action: ${action}`, 'info');
    }
    
    // Close modal when clicking outside modal content
    if (e.target.classList.contains('modal-overlay')) {
        e.target.classList.add('hidden');
        e.target.style.display = 'none';
        document.body.classList.remove('modal-open');
    }
});
    </script>
</body>
</html>